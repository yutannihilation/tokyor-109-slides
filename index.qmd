---
title: |
  <b>gghighlight</b> ã®</br>
  ã€€ä½œè€…ã§ã™ã€‚</br>
  <span style="color: #F8F8F2;">ã™ã¹ã¦</span>ã‚’</br>
  ã€€ãŠè©±ã—ã—ã¾ã™ã€‚
author: "@yutannihilation"
format:
  revealjs:
    theme: ["default", "dracula.scss"]
highlight-style: "dracula"
execute: 
  echo: true
---

```{r}
#| include: false
knitr::opts_chunk$set(dev = "ragg_png")

library(ggplot2)
library(ggrepel)

update_geom_defaults("label_repel", list(size = 20 / .pt))
theme_set(theme_gray(base_size = 20))
```


## ãƒ‰ãƒ¼ãƒ¢ï¼

::: columns
::: {.column width="50%"}
![](images/icon.jpg){fig-align="center"}
:::

::: {.column width="50%"}

Hiroaki Yutani

- Twitter: [@yutannihilation](https://twitter.com/yutannihilation)
- å¥½ããªè¨€èªï¼šRã€å¿æ®ºèª
- ggplot2 ã®ãƒ¡ãƒ³ãƒ†ãƒŠ
- ã€ŒRãƒ¦ãƒ¼ã‚¶ã®ãŸã‚ã® RStudioï¼»å®Ÿè·µï¼½å…¥é–€ã€ã®ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ã®ç« ã‚’æ‹…å½“

:::
:::

## ã‚ã‚Œã‹ã‚‰5å¹´...

ä¼èª¬ã® Hadley Wickham ç·Šæ€¥æ¥æ—¥å›

[![](images/slide-2018.png)](https://speakerdeck.com/yutannihilation/introduction-to-gghighlight)

## ã‚ã‚Œã‹ã‚‰5å¹´...

* ãã†ã„ãˆã°æ—¥æœ¬èªã§ç™ºè¡¨ã—ãŸã“ã¨ãŒãªã‹ã£ãŸï¼
* ã‚ã¨ã€è‹±èªåŠ›ã¨æ™‚é–“ã®å•é¡Œã§ç°¡å˜ãªæ©Ÿèƒ½ç´¹ä»‹ã ã‘ã ã£ãŸã®ã§ã€ä»Šæ—¥ã¯ãƒ•ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ãŠå±Šã‘ã—ã¾ã™ï¼

## ä»Šæ—¥è©±ã™ã“ã¨

* gghighlightã®ä½¿ã„æ–¹
* gghighlightã‚’ä½¿ã‚ãšã«ã‚„ã‚‹ã¨ã©ã†ãªã‚‹ã‹

# <b>gghighlight</b>ã®ä½¿ã„æ–¹

## ğŸ

```{r}
#| label: "plot1-orig"
#| code-fold: true
set.seed(2)
data <- purrr::map_dfr(
  letters,
  ~ data.frame(
      x = 1:400,
      y = cumsum(runif(400, -1, 1)),
      type = .,
      flag = sample(c(TRUE, FALSE), size = 400, replace = TRUE),
      stringsAsFactors = FALSE
    )
)

library(ggplot2)
library(gghighlight)

ggplot(data, aes(x, y, colour = type)) +
  geom_line()
```

## ğŸ

* è‰²ãŒå¤šã™ãã¦è¦‹åˆ†ã‘ã‚‰ã‚Œãªã„
   * è‰²ã¯6è‰²ãã‚‰ã„ãŒæœ›ã¾ã—ã„ã€ã¨ã•ã‚Œã¦ã„ã‚‹ [^six-color]
* ã§ã‚‚ã€å€¤ã®åˆ†å¸ƒã‚’ç¤ºã™ãŸã‚ã«ã‚‚ã€ãƒ‡ãƒ¼ã‚¿ã‚’çµã‚Šè¾¼ã¿ãŸãã¯ãªã„

::: {.fragment}
â†’ gghighlightã®å‡ºç•ªã§ã™ï¼
:::

[^six-color]: ã‚ã¾ã‚Šæ˜ç¢ºãªæ ¹æ‹ ã¯ãªã„ã‚‰ã—ã„ã€‚å‚è€ƒï¼š [Why are six colors common in color palettes for data visualization? - PolicyViz](https://policyviz.com/2023/05/31/why-are-six-colors-common-in-color-palettes-for-data-visualization/)

## {}

```{r}
#| label: "plot1"
ggplot(data, aes(x, y, colour = type)) +
  geom_line()
```

## {}

```{r}
#| label: "plot1_hl"
#| code-line-numbers: "3"
ggplot(data, aes(x, y, colour = type)) +
  geom_line() +
  gghighlight(max(y) >= 20)
```
## gghighlightã¨ã¯

* æ¡ä»¶å¼ã«å½“ã¦ã¯ã¾ã‚‹ãƒ‡ãƒ¼ã‚¿ç³»åˆ—ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ãŸã‚ã®Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
  * æ¡ä»¶å¼ã¯ `dplyr::filter()` ã¨åŒã˜ãƒ«ãƒ¼ãƒ«^[ã¨ã„ã†ã‹ã€å†…éƒ¨ã§ã¯`dplyr::filter()`ã‚’ä½¿ã£ã¦ã„ã‚‹]
* ã‚ã®Hadleyå…¬å¼[ggplot2æœ¬ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰](https://ggplot2-book.org/annotations.html#direct-labelling)^[æ¨©åˆ©é–¢ä¿‚ã®å•é¡Œãªã®ã‹ã€æ°¸é ã«æ—¥æœ¬èªç‰ˆãŒå‡ºãªã„]ã«ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹å®šç•ªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸


## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

CRANã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚

```{r}
#| eval: false
install.packages("gghighlight")
```

## gghighlight ã®èª¤è§£ã•ã‚ŒãŒã¡ãªã¨ã“ã‚

* ãƒ‡ãƒ¼ã‚¿æ¢ç´¢ã®ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
* gghighlight ã¯ãŸã ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã€‚gghighlight ã§ã§ãã‚‹ã“ã¨ã¯ ç´ ã® ggplot2 ã§ã‚‚ã§ãã‚‹ã€‚

